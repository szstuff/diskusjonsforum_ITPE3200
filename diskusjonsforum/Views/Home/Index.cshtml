@model diskusjonsforum.ViewModels.ThreadListViewModel
@{
    ViewData["Title"] = "Home Page";
}

<div class="container">
    <div class="container d-flex justify-content-center align-items-center">
        <input name="PostText" class="form-control create-post" placeholder="Create Post" type="text" onclick="redirectToCreatePage()">
    </div>

    <script>
        // Redirect the user to the "create" page when the input is clicked
        function redirectToCreatePage() {
            window.location.href = "/Thread/Create";
        }
    </script>

    <br/>

    <div class="container d-flex justify-content-center align-items-center text-white">
        <h3>Recent posts:</h3>
    </div>

    <div class="container">
        <div class="row justify-content-around align-items-start">
                @foreach (var thread in Model.Threads.OrderByDescending(t => t.ThreadCreatedAt).Take(6))
                {
                    <div class="col-4">
                        <div class="thread-container p-4 border border-bottom d-flex justify-content-start align-items-stretch flex-fill">
                            <div class="custom-container">
                                    <a asp-controller="Thread" asp-action="Thread" asp-route-threadID="@thread.ThreadId">
                                        <div class="post">
                                            <div class="user"><p>Posted by: @thread.User.UserName</p></div>
                                            <div class="title">@thread.ThreadTitle</div>
                                            <div class="content">@thread.ThreadBody</div>
                                            <div class="comments">Comments: @thread.ThreadComments?.Count</div>
                                        </div>
                                    </a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>